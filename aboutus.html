<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>About Us - The Commons</title>
<link rel="stylesheet" href="styles.css">

<style>
/* Logo animation */
.logo {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 350px;
  height: 350px;
  transition: all 1.5s ease;
  z-index: 1000;
}

.logo.move {
  top: 20px;
  left: 20px;
  transform: none;
  width: 140px;
  height: 140px;
}

/* Fade-ins */
.header, .content, .survey-container { 
  opacity: 0; 
  transition: opacity 1.5s ease; 
}

.header.show, .content.show, .survey-container.show { 
  opacity: 1; 
}

/* Survey styling */
.survey-container {
  max-width: 600px;
  margin: 50px auto;
  padding: 30px;
  background: rgba(255,255,255,0.85);
  border-radius: 16px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  font-family: "Times New Roman", serif;
}

.survey-container h2 {
  text-align: center;
}

.survey-container label {
  display: block;
  margin-top: 15px;
  font-weight: bold;
}

.survey-container input, 
.survey-container select, 
.survey-container textarea {
  width: 100%;
  padding: 10px;
  margin-top: 5px;
  border-radius: 8px;
  border: 1px solid #ccc;
  font-family: "Times New Roman", serif;
  font-size: 1rem;
}

.survey-container button {
  margin-top: 20px;
  padding: 12px 20px;
  border: none;
  border-radius: 8px;
  background-color: #395947;
  color: white;
  font-size: 1rem;
  cursor: pointer;
}

.survey-container button:hover {
  background-color: #567062;
}

#formMessage {
  margin-top: 15px;
  font-style: italic;
  color: green;
  text-align: center;
}
</style>
</head>
<body>

<!-- LOGO -->
<img src="thecommons.png" alt="The Commons Logo" class="logo" id="logo">

<!-- HEADER -->
<header class="header" id="header">
  <h1>The Commons</h1>
  <nav class="nav-buttons">
    <a href="index.html"><button>Home</button></a>
    <a href="volunteer.html"><button>Volunteering</button></a>
    <a href="nonprofits.html"><button>Nonprofits</button></a>
    <a href="events.html"><button>Events</button></a>
    <a href="aboutus.html"><button>About Us</button></a>
  </nav>
</header>

<!-- MAIN CONTENT -->
<main class="content" id="content">
  <h2>Thank you for visiting The Commons</h2>
  <p>We are guided by the symbol of the apple and led by the guidance of a star. Our goal is to provide opportunities for everyone to find what they love. Our developers, Lisa Rai, Ivan Han, and Kai Westgard, are committed to adding more opportunities to support all communities.</p>
</main>

<!-- SURVEY SECTION -->
<div class="survey-container" id="surveyContainer">
  <h2>Submit an Opportunity</h2>
  <form id="surveyForm">
    <label for="orgName">Organization Name</label>
    <input type="text" id="orgName" placeholder="Enter organization name" required>

    <label for="orgLink">Website Link</label>
    <input type="url" id="orgLink" placeholder="Enter website URL" required>

    <label for="orgType">Type</label>
    <select id="orgType" required>
      <option value="">Select type...</option>
      <option value="volunteer">Volunteer</option>
      <option value="event">Event</option>
      <option value="nonprofit">Nonprofit</option>
      <option value="internship">Internship</option>
    </select>

    <label for="orgDesc">Brief Description</label>
    <textarea id="orgDesc" rows="4" placeholder="Enter a short description" required></textarea>

    <button type="submit">Submit</button>
    <div id="formMessage"></div>
  </form>
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
<script>
// TODO: Replace with your Firebase project config
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
  projectId: "YOUR_PROJECT_ID"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// Animate logo and content fade-in
window.addEventListener("load", () => {
  const logo = document.getElementById('logo');
  const header = document.getElementById('header');
  const content = document.getElementById('content');
  const surveyContainer = document.getElementById('surveyContainer');

  setTimeout(() => logo.classList.add('move'), 500);
  setTimeout(() => header.classList.add('show'), 2000);
  setTimeout(() => content.classList.add('show'), 2500);
  setTimeout(() => surveyContainer.classList.add('show'), 3000);
});

// Handle survey submission
const surveyForm = document.getElementById("surveyForm");
const formMessage = document.getElementById("formMessage");

surveyForm.addEventListener("submit", async (e) => {
  e.preventDefault();
  const data = {
    orgName: document.getElementById("orgName").value,
    orgLink: document.getElementById("orgLink").value,
    orgType: document.getElementById("orgType").value,
    orgDesc: document.getElementById("orgDesc").value,
    createdAt: new Date()
  };

  try {
    await db.collection("submissions").add(data);
    formMessage.textContent = `Thank you! "${data.orgName}" has been submitted for review.`;
    surveyForm.reset();
  } catch (error) {
    formMessage.style.color = "red";
    formMessage.textContent = "Submission failed. Please try again.";
  }
});
</script>

</body>
</html>
